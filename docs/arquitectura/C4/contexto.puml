@startuml
actor Usuario

' ============================
' Contenedor Docker
' ============================
node "Docker Container" {
    component "Nginx" as nginx

    component "Clientes Service" as clientesService
    database "Clientes DB" as clientesDB

    component "Productos Service" as productosService
    database "Productos DB" as productosDB

    component "Ventas Service" as ventasService
    database "Ventas DB" as ventasDB

    ' ============================
    ' Flujo principal de interacciÃ³n
    ' ============================
    Usuario --> nginx
    nginx --> clientesService
    nginx --> productosService
    nginx --> ventasService

    ' ============================
    ' Validaciones internas de Ventas
    ' ============================
    ventasService --> clientesService : Verifica cliente (HTTP)
    ventasService --> productosService : Verifica producto (HTTP)

    ' ============================
    ' Acceso a bases de datos propias
    ' ============================
    clientesService --> clientesDB
    productosService --> productosDB
    ventasService --> ventasDB
}
@enduml
